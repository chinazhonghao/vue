<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>组件事件流测试</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  </head>
  <body>
    <div id="el">
      这里是父组件{{ name }}
      <child></child>
    </div>
    <div id="event" style="margin-top: 15px;">
      <div>这里是事件顺序：</div>
      <div v-for="(item, index) in events">{{ item }}</div>
    </div>
    <script>
    const events = new Vue({
      el: '#event',
      data: {
        events: [],
      },
    });
    Vue.component('child', {
      beforeCreate() {
        events.events.push('child beforeCreate')
      },
      created() {
        events.events.push('child created');
      },
      beforeMount() {
        events.events.push('child beforeMount');
      },
      mounted() {
        events.events.push('child mounted');
      },
      template: '<div>这里是子组件<child2></child2></div>',
    });

    Vue.component('child2', {
      beforeCreate() {
        events.events.push('child2 beforeCreate')
      },
      created() {
        events.events.push('child2 created');
      },
      beforeMount() {
        events.events.push('child2 beforeMount');
      },
      mounted() {
        events.events.push('child2 mounted');
      },
      template: '<div>这里是子子组件</div>',
    });


    var vm = new Vue({
      el: '#el',
      data: {
        name: 'parent',
      },
      beforeCreate() {
        events.events.push('parent beforeCreate');
      },
      created() {
        events.events.push('parent created');
      },
      beforeMount() {
        events.events.push('parent beforeMount');
      },
      mounted() {
        events.events.push('parent mounted');
      },
    });
    </script>
  </body>
</html>
